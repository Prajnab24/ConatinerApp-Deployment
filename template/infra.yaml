steps:
- task: AzureCLI@2
  displayName: 'Azure Login'
  inputs:
    azureSubscription: 'azure-connection' # Authenticate with Azure using service connection

- script: |
    pwd
    cd terraform
    pwd
    terraform init
    terraform validate
  displayName: 'Terraform Init and Validate'
 
- script: |
    pwd
    cd terraform
    pwd
    terraform plan
  displayName: 'Terraform Plan'
 
- script: |
    pwd
    cd terraform
    pwd
    terraform apply  -auto-approve
  displayName: 'Terraform Apply'
  condition: succeeded()



